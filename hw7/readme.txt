Домашнее задание

Тайп Классы и Cats

Цель:

Закрепление знаний по типичной структуре тайп классов (трэйт, инстансы, суммонер, синтаксис и т.д.)


Описание/Пошаговая инструкция выполнения домашнего задания:

Подготовка: форкнуть учебный репозиторий https://github.com/chuwy/otus-bats (последнее обновление 14.01, после занятия!)
Задача:

• Реализовать все компонеты тайп класса Show (тайп класс преобразующий объект в строку, наподобие toString):

• инстансы (например String, Boolean, Int, List, Set)

• суммонер

• дополнительные конструкторы fromJvm и fromFunction

• синтаксические расширения
Формат строки интснансов на выбор ученика, обычно это просто "проброс" на toString. У этого тайп класса нет законов наподобие ассоциативности.

• Реализовать в трэйте Monad метод flatten с помощью flatMap (т.е. flatMap в трэйте остаётся нереализован, а flatten вызывает flatMap) ЛИБО flatMap с помощью flatten.

• Имплементировать инстансы Monad для а) Option, b) List, c) одного типа на выбор ученика.
Примечание: типичный тип для монады имеет форму * -> * и реализация не должна вызвать трудностей. Но возможно реализовать и для типов с формой * -> * -> , который не следует путать с Higher Kinded Type: ( -> *) -> *. Если для третьего инстанса вы выберете тип с такой формой это будет задание повышенной сложности и в этом случае вам пригодятся две подсказки: вам помогут алиасы типов ИЛИ плагин kind-projector (нужно гуглить).

• Реализовать оставшиеся элементы тайп класса Monad


Критерии оценки:

• После выполнения первой задачи, при наличии всех иплиситов в области видимости, (и отсутствие любых импортов из cats!) если в IDE вы используете go-to-definition на show в нижеприведённом коде вас должно перебросить на show в вашем имплисит классе:
val list: List[Int] = Nil
list.show
То же самое касается метода flatMap/flatten после выполнения четвёртого задания (go-to-definition НЕ должен направить в стандартную библиотеку)

• Логика функций map/flatMap (то что имплементировали на предыдущих занятиях) НЕ является критерием оценки - внутри инстанса вы можете просто "перебросить" flatMap тайп класса на flatMap стандартной коллекции (Option#flatMap и List#flatMap) ИЛИ реализовать map и flatMap сами ещё раз.

