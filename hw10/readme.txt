Домашнее задание

http4s и FS2

Описание/Пошаговая инструкция выполнения домашнего задания:

Подготовка: форкнуть учебный репозиторий https://github.com/ScalaOtus/scala-dev-mooc-2023-12
Задача:

• HTTP эндпоинт /counter
Возвращающий JSON в виде {"counter": 1}, где число увеличивается с каждым запросом, поступающим на этот эндпоинт

• HTTP эндпоинт /slow/:chunk/:total/:time выдающий искусственно медленный ответ, имитируя сервер под нагрузкой
:chunk, :total и :time - переменные, которые пользователь эндпоинта может заменить числами, например запрос по адресу /show/10/1024/5 будет выдавать body кусками по 10 байт, каждые 5 секунд пока не не достигнет 1024 байт. Содержимое потока на усмотрение учащегося - может быть повторяющийся символ, может быть локальный файл. Неверные значения переменных (строки или отрицательные числа в переменных) должны приводить к ответу Bad Request


Критерии оценки:

• Ссылочная прозрачность

• Наличие функциональных примитивов и типов данных cats.effect.Ref, fs2.Stream, io.circe.Json

• Отсутствие необработанных исключений

• Тесты с помощью http4s клиента, без запуска сервера